<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Loading...</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');

  body {
    margin: 0;
    height: 100vh;
    font-family: 'Roboto', sans-serif;
    color: #222;
    background: #f0f0f0;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    position: relative;
    opacity: 0;
    animation: fadeIn 0.5s ease forwards;
    animation-delay: 0.1s;
  }

  @keyframes fadeIn {
    to {opacity: 1;}
  }

  /* GitHub button container */
  .github-info {
    position: fixed;
    top: 15px;
    left: 15px;
    display: flex;
    align-items: center;
    gap: 8px;
    background: rgba(255, 255, 255, 0.85);
    padding: 6px 12px;
    border-radius: 8px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    font-weight: 600;
    font-size: 0.9rem;
    color: #222;
    user-select: none;
    cursor: pointer;
    z-index: 1000;
    opacity: 0;
    animation: fadeIn 0.6s ease forwards;
    animation-delay: 0.3s;
    border: none;
    text-decoration: none;
    transition: background-color 0.3s ease;
  }
  .github-info:hover {
    background: rgba(200, 200, 200, 0.85);
  }

  .github-icon {
    width: 20px;
    height: 20px;
    fill: #222;
    flex-shrink: 0;
  }

  /* Heading */
  h1 {
    margin: 0 0 25px 0;
    font-weight: 700;
    font-size: 2rem;
    color: #111;
    text-shadow: 0 0 3px rgba(0,0,0,0.1);
    opacity: 0;
    animation: fadeIn 0.6s ease forwards;
    animation-delay: 0.5s;
  }

  /* Spinner with pulsing glow */
  .spinner {
    border: 8px solid rgba(0, 0, 0, 0.12);
    border-top: 8px solid #444;
    border-radius: 50%;
    width: 70px;
    height: 70px;
    animation: spin 1s linear infinite, pulseGlow 2.5s ease-in-out infinite;
    margin-bottom: 30px;
    box-shadow: 0 0 12px rgba(68, 68, 68, 0.6);
    opacity: 0;
    animation-fill-mode: forwards;
    animation-delay: 0.7s, 0.7s;
  }

  @keyframes spin {
    0% {transform: rotate(0deg);}
    100% {transform: rotate(360deg);}
  }
  @keyframes pulseGlow {
    0%, 100% { box-shadow: 0 0 12px rgba(68, 68, 68, 0.6);}
    50% { box-shadow: 0 0 20px rgba(68, 68, 68, 0.9);}
  }

  /* Loading bars */
  .loading-bars {
    display: flex;
    justify-content: center;
    margin-top: 15px;
    gap: 6px;
    opacity: 0;
    animation: fadeIn 0.6s ease forwards;
    animation-delay: 0.9s;
  }

  .loading-bar {
    width: 8px;
    height: 35px;
    background: #444;
    border-radius: 4px;
    animation: loading-bar 1.2s infinite ease-in-out;
    opacity: 0.7;
    box-shadow: 0 0 6px rgba(0,0,0,0.1);
  }
  .loading-bar:nth-child(1) { animation-delay: -0.36s; }
  .loading-bar:nth-child(2) { animation-delay: -0.24s; }
  .loading-bar:nth-child(3) { animation-delay: -0.12s; }
  .loading-bar:nth-child(4) { animation-delay: 0s; }

  @keyframes loading-bar {
    0%, 40%, 100% {
      transform: scaleY(0.4);
      opacity: 0.5;
    }
    20% {
      transform: scaleY(1);
      opacity: 1;
    }
  }

  /* Message text */
  #message {
    margin-top: 25px;
    font-size: 1.15rem;
    font-weight: 500;
    max-width: 400px;
    line-height: 1.5;
    color: #333;
    opacity: 0;
    animation: fadeIn 0.6s ease forwards;
    animation-delay: 1.1s;
  }

  /* Progress bar container */
  .progress-container {
    margin-top: 40px;
    width: 320px;
    height: 12px;
    background: #ddd;
    border-radius: 8px;
    box-shadow: inset 0 1px 3px rgba(255,255,255,0.7);
    overflow: hidden;
    opacity: 0;
    animation: fadeIn 0.6s ease forwards;
    animation-delay: 1.3s;
  }

  /* Progress bar fill with smooth animation and 2s pause at 100% */
  @keyframes progressFill {
    0% { width: 0; }
    71.42% { width: 100%; } /* 5s of 7s */
    100% { width: 100%; }   /* stay full for 2s */
  }

  .progress-bar {
    height: 100%;
    background: #555;
    border-radius: 8px;
    width: 0;
    animation: progressFill 7s linear forwards;
  }
</style>

<script>
  window.onload = function() {
    const messageEl = document.getElementById("message");
    messageEl.textContent = "The website is loading... If this takes too long, the page will restart automatically.";

    // Uncomment the next block to redirect users to error/500 instead of home
    /*
    setTimeout(() => {
      window.location.href = "error/500";
    }, 7000);
    */

    // Normal redirect to home page
    setTimeout(() => {
      window.location.href = "home";
    }, 7000); // 7s to match animation duration

    setTimeout(() => {
      location.reload();
    }, 8000); // reload 1s after redirect attempt
  };
</script>
</head>

<body>
  <a href="https://github.com/XPDevs/xpdevs.github.io/" target="_blank" rel="noopener" class="github-info" aria-label="Hosted on GitHub Pages">
    <svg class="github-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
      <path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.438 9.8 8.205 11.387.6.11.82-.26.82-.577 0-.285-.01-1.04-.015-2.04-3.338.726-4.042-1.61-4.042-1.61-.546-1.39-1.333-1.76-1.333-1.76-1.09-.745.084-.73.084-.73 1.205.086 1.84 1.237 1.84 1.237 1.07 1.835 2.807 1.305 3.492.997.108-.775.42-1.305.763-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.468-2.38 1.236-3.22-.124-.303-.536-1.52.117-3.167 0 0 1.008-.322 3.3 1.23a11.51 11.51 0 013.003-.404c1.02.005 2.045.138 3.003.404 2.29-1.552 3.297-1.23 3.297-1.23.654 1.647.242 2.864.118 3.167.77.84 1.235 1.91 1.235 3.22 0 4.61-2.803 5.625-5.475 5.92.43.37.81 1.096.81 2.21 0 1.595-.015 2.877-.015 3.267 0 .32.216.694.825.576C20.565 21.795 24 17.295 24 12c0-6.63-5.373-12-12-12z"/>
    </svg>
    Hosted on GitHub Pages
  </a>

  <h1>Loading XPDevs Website</h1>

  <div class="progress-container" aria-label="Loading progress">
    <div class="progress-bar"></div>
  </div>

  <div id="message"></div>

</body>
</html>
